<html>

<head>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <form id="create" method="POST" action="/room">
        <input id="privateRoom" type="checkbox" name="private">Private<br>
        <input id="password" type="text" name="password" placeholder="password">Password<br>
        <input id="createRoom" type="submit">CREATE ROOM</input>
    </form>

    <div id="join">
        <button class="joinRoom" data-roomID="someIDA">rma</button>
        <button class="joinRoom" data-roomID="someIDB">rmb</button>
    </div>

    <form id="logout" method="GET" action="/logout">
        <button type="submit">LOGOUT</button>
    </form>

    <form id="test" method="GET" action="/test">
        <button type="submit">TEST</button>
    </form>

    <!-- <ul id="messages"></ul>

    <form action="" id="msgBox" class="hide">
        <input id="m" autocomplete="off" />
        <button>Send</button>
    </form> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.slim.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(function () {

            var socket = io();

            $("#createRoom").on("click", function () {
                // boolean
                let private = $("#privateRoom").prop("checked");
                // string or null
                let password = $("#password").prop("value") || null;
                // replace above line with wtever u need
                // as long as i get the 2 value

                // ask server to create a new room
                let settings = {
                    private: private,
                    password: password
                };
                // console.log(settings.private);
                // console.log(settings.password);
                socket.emit("create room", settings)

            });

            $("#join").on('click', ".joinRoom", function () {
                // vvv as long as i get the unique ID of that room
                let roomID = $(this).data("roomID");
                console.log(roomID);

                socket.emit('join room', roomID);

            });

            socket.on("error", msg => {
                alert(msg);
            });

        });
    </script>

</body>

</html>